<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

        // var scalability_og = [
        //     ['Size', '4',           '8',          '12',       '16',       '20',       '24',       '28',       '32',       '36',       '40',       '44'],
        //     ['50',    0.711920,     0.559448,     0.533652,   0.551927,   0.556803,   0.559497,   0.673192,   0.639539,   0.714258,   0.757884,   0.811590],
        //     ['60',    1.367630,     1.026227,     0.933830,   0.932847,   0.935898,   0.944258,   1.011535,   1.142479,   1.161578,   1.189219,   1.256478],
        //     ['70',    2.245719,     1.670297,     1.450064,   1.357560,   1.385995,   1.398019,   1.441569,   1.495467,   1.526298,   1.841676,   1.803089],
        //     ['80',    3.520445,     2.479031,     2.161747,   1.980708,   2.035330,   1.830787,   2.049627,   2.081853,   2.210055,   2.351938,   2.545808],
        //     ['90',    5.454097,     3.784271,     3.268663,   3.024872,   2.975410,   2.887255,   3.013754,   3.000454,   3.208276,   3.468679,   3.614875],
        //     ['100',   8.295214,     5.429431,     4.637438,   4.311164,   4.147147,   4.032619,   4.108079,   4.183123,   4.427982,   4.739817,   4.793952],
        //     ['110',   11.650423,    7.653815,     6.358226,   5.755956,   5.519173,   5.383489,   5.429080,   5.338124,   6.013994,   5.981964,   6.165995],
        //     ['120',   16.428470,    10.423372,    8.571334,   7.908837,   7.434940,   7.186681,   7.237989,   6.911281,   7.011631,   7.788628,   7.768638],
        //     ['130',   21.933858,    13.786061,    11.289139,  10.253596,  9.952591,   9.221207,   9.295551,   9.177889,   9.054716,   9.404213,   10.425420],
        //     ['140',   28.548632,    17.774063,    14.495022,  12.904603,  12.092188,  11.640916,  11.584014,  11.342113,  11.192567,  11.846391,  12.899363],
        //     ['150',   37.882076,    23.221920,    18.587234,  16.554722,  15.450125,  14.835379,  14.641105,  14.234571,  14.462749,  15.038297,  16.352203],
        //     ['160',   46.522119,    28.706799,    22.557210,  20.170828,  18.715758,  17.742256,  17.465350,  16.837904,  18.343704,  17.262490,  19.586813],
        //     ['170',   58.633060,    35.385198,    28.082122,  24.554697,  23.343804,  21.718456,  21.618403,  20.277915,  20.791164,  20.726147,  23.410576],
        //     ['180',   73.863700,    44.009690,    35.223801,  30.126213,  27.789951,  26.671854,  25.893721,  25.108637,  24.944175,  25.264208,  28.462914],
        //     ['190',   89.624713,    53.581453,    42.074140,  36.122385,  33.715253,  31.288532,  30.467065,  29.885771,  29.975617,  29.223066,  34.658606],
        //     ['200',   113.689685,   66.742716,    51.825247,  44.648550,  41.210855,  37.949750,  37.121536,  35.799510,  36.007326,  35.120129,  41.516118],
        // ];

        // var gustafson = [
        //     ['Matrix size', 'Speedup in terms of matrix size',  'Gustafson limit on speedup'],
        //     ['1000',        6.533975/2.454601,                  1/(0.81 + (1-0.81)/44)],
        //     ['2000',        26.157975/9.405540,                  1/(0.85 + (1-0.85)/44)],
        //     ['3000',        58.938974/20.527224,                  1/(0.87 + (1-0.87)/44)],
        //     ['4000',        104.958257/35.850735,                  1/(0.89 + (1-0.89)/44)],
        //     ['5000',        163.494203/55.160389,                  1/(0.90 + (1-0.90)/44)],
        //     ['6000',        235.646852/78.112103,                  1/(0.91 + (1-0.91)/44)],
        //     ['7000',        320.548152/105.786689,                  1/(0.92 + (1-0.91)/44)],
        //     ['8000',        6.533975/137.637970,                  1/(0.92 + (1-0.91)/44)],
        //     ['9000',        6.533975/174.013647,                  1/(0.92 + (1-0.91)/44)],
        //     ['10000',       6.533975/214.091584,                  1/(0.93 + (1-0.91)/44)]
        // ];

        var gustafson = [
            ['Matrix size', 'Speedup in terms of matrix size'],
            [100,        6.533975/2.454601],
            [2000,        6.533975/2.454601],
            [300,        6.533975/2.454601],
            [400,        6.533975/2.454601],
            [500,        6.533975/2.454601],
            [600,        6.533975/2.454601],
            [700,        6.533975/2.454601],
            [800,        6.533975/2.454601],
            [900,        6.533975/2.454601],
            [1000,        6.533975/2.454601],
            [2000,        26.157975/9.405540],
            [3000,        58.938974/20.527224],
            [4000,        104.958257/35.850735],
            [5000,        163.494203/55.160389],
            [6000,        235.646852/78.112103],
            [7000,        320.548152/105.786689],
            [8000,        418.705508/137.637970],
        ];

        // Speedup
        var sequential_time_4096 = 95.358901;
        var sequential_time_2048 = 27.809685;
        var sequential_time_1024 = 6.937460;
        var parallel_times_4096 = [
            ['Thread count',    'Speedup in terms of thread count', 'Amdhal limit on speedup'],
            ['4',               51.886392,                          1.926848],
            ['8',               46.801152,                          2.278876],
            ['12',              40.184584,                          2.426657],
            ['16',              39.204048,                          2.507976],
            ['20',              38.122267,                          2.559437],
            ['24',              37.707810,                          2.594934],
            ['28',              37.465551,                          2.620897],
            ['32',              37.311066,                          2.640714],
            ['36',              37.509960,                          2.656335],
            ['40',              37.577570,                          2.668965],
            ['44',              37.720014,                          2.679389]
        ];
        var speedup_4096 = parallel_times_4096;
        for (var i=0 ; i<speedup_4096.length ; i++) {
            if (i!=0){
                speedup_4096[i][1] = sequential_time_4096/speedup_4096[i][1];
            }
        }

        // Efficiency
        var efficiency = [
            ['Thread count',    '1024',                 '2048',                 '4096'],
            ['4',               6.937460/3.994628/4,  27.809685/14.998027/4,  95.358901/51.886392/4],
            ['8',               6.937460/2.876858/8,  27.809685/11.964160/8,  95.358901/46.801152/8],
            ['12',              6.937460/2.763487/12, 27.809685/10.952189/12, 95.358901/40.184584/12],
            ['16',              6.937460/2.735978/16, 27.809685/10.494160/16, 95.358901/39.204048/16],
            ['20',              6.937460/2.729702/20, 27.809685/10.027996/20, 95.358901/38.122267/20],
            ['24',              6.937460/2.693391/24,  27.809685/9.927170/24,  95.358901/37.707810/24],
            ['28',              6.937460/2.665275/28,  27.809685/9.920249/28,  95.358901/37.465551/28],
            ['32',              6.937460/2.621370/32,  27.809685/9.968936/32,  95.358901/37.311066/32],
            ['36',              6.937460/2.614057/36,  27.809685/9.891899/36,  95.358901/37.509960/36],
            ['40',              6.937460/2.568609/40,  27.809685/9.765214/40,  95.358901/37.577570/40],
            ['44',              6.937460/2.582025/44,  27.809685/9.766077/44,  95.358901/37.720014/44]
        ];

        // Parallel overhead
        var parallel_overhead = [
            ['Thread count',    'Parallel overhead in terms of processor count'],
            ['4',               4*6.555108 - 17.815527],
            ['8',               8*3.579690 - 17.815527],
            ['12',              12*2.582395 - 17.815527],
            ['16',              16*2.070215 - 17.815527],
            ['20',              20*1.766380 - 17.815527],
            ['24',              24*1.566809 - 17.815527],
            ['28',              28*1.520060 - 17.815527],
            ['32',              32*1.512386 - 17.815527],
            ['36',              36*1.431681 - 17.815527],
            ['40',              40*1.368007 - 17.815527],
            ['44',              44*1.290056 - 17.815527]
        ];


        var data = google.visualization.arrayToDataTable(gustafson);

        var options = {
            curveType: 'function',
            legend: { position: 'bottom' },
            vAxis: {
                title: 'Parallel overhead'
            },
            hAxis: {
                title: 'Number of processors p'
            },
            series: {
                0: { color: '#e6194B' },
                1: { color: '#3cb44b' },
                2: { color: '#808000' },
                3: { color: '#ffe119' },
                4: { color: '#4363d8' },
                5: { color: '#f58231' },
                6: { color: '#911eb4' },
                7: { color: '#42d4f4' },
                8: { color: '#f032e6' },
                9: { color: '#bfef45' },
                10: { color: '#800000' },
            }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
    
    function removeCol(arr, col) {
        var col_index = -1;
        for (var y=0 ; y<arr.length ; y++) {
            for (var x=0 ; x<arr[0].length ; x++) {
                if (y == 0) {
                    if(arr[y][x] == col) {
                        col_index = x;
                    }
                }
            }
        }

        return arr.map(function(val) {
            return val.filter(function(el,idx){return idx !== col_index});  
        });

    }
    
    </script>
  </head>
  <body>
    <div id="curve_chart" style="width: 1500px; height: 1000px"></div>
  </body>
</html>
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
    google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var scalability_og = [
            ['Size', '4',           '8',          '12',       '16',       '20',       '24',       '28',       '32',       '36',       '40',       '44'],
            ['50',    0.711920,     0.559448,     0.533652,   0.551927,   0.556803,   0.559497,   0.673192,   0.639539,   0.714258,   0.757884,   0.811590],
            ['60',    1.367630,     1.026227,     0.933830,   0.932847,   0.935898,   0.944258,   1.011535,   1.142479,   1.161578,   1.189219,   1.256478],
            ['70',    2.245719,     1.670297,     1.450064,   1.357560,   1.385995,   1.398019,   1.441569,   1.495467,   1.526298,   1.841676,   1.803089],
            ['80',    3.520445,     2.479031,     2.161747,   1.980708,   2.035330,   1.830787,   2.049627,   2.081853,   2.210055,   2.351938,   2.545808],
            ['90',    5.454097,     3.784271,     3.268663,   3.024872,   2.975410,   2.887255,   3.013754,   3.000454,   3.208276,   3.468679,   3.614875],
            ['100',   8.295214,     5.429431,     4.637438,   4.311164,   4.147147,   4.032619,   4.108079,   4.183123,   4.427982,   4.739817,   4.793952],
            ['110',   11.650423,    7.653815,     6.358226,   5.755956,   5.519173,   5.383489,   5.429080,   5.338124,   6.013994,   5.981964,   6.165995],
            ['120',   16.428470,    10.423372,    8.571334,   7.908837,   7.434940,   7.186681,   7.237989,   6.911281,   7.011631,   7.788628,   7.768638],
            ['130',   21.933858,    13.786061,    11.289139,  10.253596,  9.952591,   9.221207,   9.295551,   9.177889,   9.054716,   9.404213,   10.425420],
            ['140',   28.548632,    17.774063,    14.495022,  12.904603,  12.092188,  11.640916,  11.584014,  11.342113,  11.192567,  11.846391,  12.899363],
            ['150',   37.882076,    23.221920,    18.587234,  16.554722,  15.450125,  14.835379,  14.641105,  14.234571,  14.462749,  15.038297,  16.352203],
            ['160',   46.522119,    28.706799,    22.557210,  20.170828,  18.715758,  17.742256,  17.465350,  16.837904,  18.343704,  17.262490,  19.586813],
            ['170',   58.633060,    35.385198,    28.082122,  24.554697,  23.343804,  21.718456,  21.618403,  20.277915,  20.791164,  20.726147,  23.410576],
            ['180',   73.863700,    44.009690,    35.223801,  30.126213,  27.789951,  26.671854,  25.893721,  25.108637,  24.944175,  25.264208,  28.462914],
            ['190',   89.624713,    53.581453,    42.074140,  36.122385,  33.715253,  31.288532,  30.467065,  29.885771,  29.975617,  29.223066,  34.658606],
            ['200',   113.689685,   66.742716,    51.825247,  44.648550,  41.210855,  37.949750,  37.121536,  35.799510,  36.007326,  35.120129,  41.516118],
        ];

        var sequential_time_150 = 125.290252;
        var parallel_times_150 = [
            ['Thread count',    'Speedup in terms of thread count'],
            ['4',               37.882076],
            ['8',               23.221920],
            ['12',              18.587234],
            ['16',              16.554722],
            ['20',              15.450125],
            ['24',              14.835379],
            ['28',              14.641105],
            ['32',              14.234571],
            ['36',              14.462749],
            ['40',              15.038297],
            ['44',              16.352203]
        ];

        var speedup_150 = parallel_times_150;
        for (var i=0 ; i<speedup_150.length ; i++) {
            if (i!=0){
                speedup_150[i][1] = sequential_time_150/speedup_150[i][1];
            }
        }

        console.log(speedup_150);

        var scalability = scalability_og;
        //var data1 = removeCol(data1, "4");
        //var data1 = removeCol(data1, "8");
        //var data1 = removeCol(data1, "12");
        //var data1 = removeCol(data1, "16");
        //var data1 = removeCol(data1, "20");
        //var data1 = removeCol(data1, "24");
        //var data1 = removeCol(data1, "28");
        //var data1 = removeCol(data1, "32");
        //var data1 = removeCol(data1, "36");
        //var data1 = removeCol(data1, "40");
        //var data1 = removeCol(data1, "44");


        var data = google.visualization.arrayToDataTable(speedup_150);

        var options = {
            curveType: 'function',
            legend: { position: 'bottom' },
            vAxis: {
                title: 'Speedup Sp'
            },
            hAxis: {
                title: 'Number of threads p'
            },
            series: {
                0: { color: '#e6194B' },
                1: { color: '#3cb44b' },
                2: { color: '#808000' },
                3: { color: '#ffe119' },
                4: { color: '#4363d8' },
                5: { color: '#f58231' },
                6: { color: '#911eb4' },
                7: { color: '#42d4f4' },
                8: { color: '#f032e6' },
                9: { color: '#bfef45' },
                10: { color: '#800000' },
            }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
    
    function removeCol(arr, col) {
        var col_index = -1;
        for (var y=0 ; y<arr.length ; y++) {
            for (var x=0 ; x<arr[0].length ; x++) {
                if (y == 0) {
                    if(arr[y][x] == col) {
                        col_index = x;
                    }
                }
            }
        }

        return arr.map(function(val) {
            return val.filter(function(el,idx){return idx !== col_index});  
        });

    }
    
    </script>
  </head>
  <body>
    <div id="curve_chart" style="width: 1500px; height: 1000px"></div>
  </body>
</html>